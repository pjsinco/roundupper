import{W as B,c as z}from"./useButtonFunctions-wh9oDudB.js";import{L as E}from"./LoadingSpinner-37cEEam5.js";import{u as I}from"./renderer-newsletter--KpIymwp.js";import{e as W}from"./useEditorFromTextArea-Vu5XOOF9.js";import{m as f}from"./marked.esm-KKTQJ6Gi.js";import{c,g as p,s as y,a as v,x as j,w as x,F as A,e as w,o as u,d as e,h,i as T,v as F,y as g,_ as G,k as l,m as R,l as U,z as k}from"./index-5IaAVlBv.js";import"./styles-base-aoa-general-_fm_AVFK.js";import"./markdown-dpzZz7rj.js";const D={class:"row"},J={class:"col-xs-12"},P={class:"component__title",style:{display:"flex","justify-content":"space-between","align-items":"baseline"}},q={class:"small",style:{"margin-left":"8px","font-size":"20px","font-weight":"300"}},K={style:{position:"relative",top:"2px"}},Q={key:0,class:"row"},X={class:"col-xs-12"},Y={class:"form-group"},Z=e("label",{for:"urlToFetch"},"Browser version URL",-1),$={class:"form-group clearfix"},ee={key:1,class:"row"},oe={class:"col-xs-12"},te={class:"text-danger bg-danger",style:{padding:"10px"}},se={class:"row"},ne={class:"col-xs-12"},le={class:"form-group"},re=e("label",{for:"input"},"Table of contents (in Markdown)",-1),ae={key:2,class:"row"},ie={class:"col-xs-12"},de={class:"form-group clearfix",style:{"margin-top":"40px"}},ce=e("span",{class:"glyphicon glyphicon-refresh"},null,-1),pe={class:"btn-group pull-right"},ue=e("span",{class:"glyphicon glyphicon-copy"},null,-1),he={style:{"max-width":"600px",margin:"0 auto",padding:"24px 0","background-color":"#fff",border:"1px dotted #d0d0d0"}},be={id:"rendered"},me=e("table",{bgcolor:"#FFFFFF",cellpadding:"0",cellspacing:"0",style:{border:"none","border-bottom":"none","border-collapse":"collapse","border-left":"none","border-right":"none","border-top":"none","mso-table-lspace":"0pt","mso-table-rspace":"0pt"},width:"100%"},[e("tbody",null,[e("tr",null,[e("td",{align:"left",style:{padding:"0 36px 0 36px"}},[e("table",{bgcolor:"#FFFFFF",cellpadding:"0",cellspacing:"0",style:{border:"none","border-bottom":"none","border-collapse":"collapse","border-left":"none","border-right":"none","border-top":"none","mso-table-lspace":"0pt","mso-table-rspace":"0pt"},width:"100%"},[e("tbody",null,[e("tr",null,[e("td",{align:"left",style:{padding:"24px 0px 24px 0px"}},[e("table",{border:"0",cellpadding:"0",cellspacing:"0",style:{border:"none","border-collapse":"collapse","mso-table-lspace":"0pt","mso-table-rspace":"0pt"},width:"100%"},[e("tbody",null,[e("tr",null,[e("td",null,[e("table",{cellpadding:"0",cellspacing:"0",style:{border:"none","border-collapse":"collapse","mso-table-lspace":"0pt","mso-table-rspace":"0pt"},width:"100%"},[e("tbody",null,[e("tr",null,[e("td",{height:"1",style:{"border-bottom":"8px solid #eeeeee","line-height":"1px"},width:"1"})]),e("tr",null,[e("td",{height:"1",style:{"line-height":"1px"},width:"1"})])])])])])])])])])])])])])])],-1),fe={border:"0",cellpadding:"0",cellspacing:"0",role:"presentation",style:{"vertical-align":"top"},width:"100%"},ge={class:"pardot-region","pardot-region":"",style:{"font-size":"0px",padding:"0 36px 0 36px","word-break":"break-word"}},_e=["innerHTML"];function ye(b,t,i,o,r,d){const a=w("loadingSpinner"),n=w("Workspace");return u(),c(A,null,[p(v(a,null,null,512),[[y,o.isLoading]]),v(n,null,j({form:x(()=>[e("div",D,[e("div",J,[e("h1",P,[h("Table of contents"),e("span",q,[h("A little experimental "),e("span",K,T(o.reaction),1)])])])]),o.haveToc?g("",!0):(u(),c("div",Q,[e("div",X,[e("div",Y,[Z,p(e("input",{class:"form-control",id:"urlToFetch","onUpdate:modelValue":t[0]||(t[0]=s=>o.urlToFetch=s)},null,512),[[F,o.urlToFetch]])]),e("div",$,[e("button",{class:"btn btn-sm btn-default pull-right",onClick:t[1]||(t[1]=(...s)=>o.handleSubmit&&o.handleSubmit(...s))},"Generate TOC")])])])),o.error!=""?(u(),c("div",ee,[e("div",oe,[e("p",te,T(o.error),1)])])):g("",!0),p(e("div",se,[e("div",ne,[e("div",le,[re,p(e("textarea",{class:"form-control",id:"input","onUpdate:modelValue":t[2]||(t[2]=s=>o.input=s)},null,512),[[F,o.input]])])])],512),[[y,o.haveToc]]),o.haveToc?(u(),c("div",ae,[e("div",ie,[e("div",de,[e("button",{class:"btn btn-default",id:"refresh",onClick:t[3]||(t[3]=(...s)=>o.reset&&o.reset(...s))},[ce,h(" Reset")]),e("div",pe,[e("button",{class:"btn btn-primary",id:"copyHtml",onClick:t[4]||(t[4]=(...s)=>o.copy&&o.copy(...s)),"aria-label":"Copied HTML!"},[ue,h(" Copy HTML")])])])])])):g("",!0)]),_:2},[o.haveToc?{name:"render-container",fn:x(()=>[e("div",he,[e("div",be,[me,e("table",fe,[e("tbody",null,[e("tr",null,[e("td",ge,[e("div",{style:{"font-family":"Arial, Helvetica, sans-serif","font-size":"16px","font-weight":"normal","line-height":"24px","text-align":"left",color:"#2a2a2a"},innerHTML:o.output},null,8,_e)])])])])])])]),key:"0"}:void 0]),1024)],64)}const ve={components:{Workspace:B,LoadingSpinner:E},setup(){const b=l(""),t=l(!1),i=l(!1),o=l(""),r=l(""),d=l("");let a=null;const n={testTube:"🧪",safetyGlasses:"🥽",happy:"🙂",nervous:"😬",sad:"🙁"},s=l(n.safetyGlasses),C="### In this issue",{renderer:S}=I();console.log("hiya"),f.use({renderer:S}),f.setOptions({gfm:!0,headerIds:!1});const L=R(()=>f(r.value));function M(){k(()=>{const m=document.getElementById("input");a=W(r,m,"250px")})}async function H(){t.value=!0,d.value="",n.value=s.nervous;const m="https://andthatproveswhat.com/roundupper-api/toc";try{const O=await(await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:b.value})})).text();r.value=`${C}
${JSON.parse(O).data.join(`
`)}`,k(()=>{a.setValue(r.value),a.focus(),a.setCursor({line:0,ch:0})}),i.value=!0,s.value=n.testTube}catch(_){console.error(_),s.value=n.sad,i.value=!1,d.value="Error fetching TOC"}finally{t.value=!1}}function N(){window.location.reload()}function V(){z()}return U(M),{urlToFetch:b,handleSubmit:H,isLoading:t,tocMarkdown:o,input:r,haveToc:i,output:L,reset:N,copy:V,error:d,reaction:s,reactions:n}}},Me=G(ve,[["render",ye]]);export{Me as default};
