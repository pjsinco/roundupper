import{W as A,c as z}from"./useButtonFunctions-3LVv21f5.js";import{o as p,b as E,w as g,T as I,d as e,_ as C,c as u,g as h,D as v,a as x,H as W,F as j,e as w,h as b,i as T,v as k,y as f,k as a,m as D,l as G,z as F}from"./index-4JgYDzZU.js";import{u as R}from"./renderer-newsletter-pe51VF_h.js";import{e as U}from"./useEditorFromTextArea-Vu5XOOF9.js";import{m as _}from"./marked.esm-KKTQJ6Gi.js";import"./styles-base-aoa-general-5iRRJacY.js";import"./markdown-dpzZz7rj.js";const J=e("div",{class:"loading-spinner"},null,-1);function P(r,t,c,o,s,d){return p(),E(I,{name:"fade",mode:"out-in"},{default:g(()=>[J]),_:1})}const q={name:"loading-spinner",props:{active:Boolean},computed:{},watch:{active(r){this.isActive=r}},data(){return{isActive:this.active}}},K=C(q,[["render",P]]),Q={class:"row"},X={class:"col-xs-12"},Y={class:"component__title",style:{display:"flex","justify-content":"space-between","align-items":"baseline"}},Z={class:"small",style:{"margin-left":"8px","font-size":"20px","font-weight":"300"}},$={key:0,class:"row"},ee={class:"col-xs-12"},oe={class:"form-group"},te=e("label",{for:"urlToFetch"},"Browser version URL",-1),ne={class:"form-group clearfix"},se={key:1,class:"row"},le={class:"col-xs-12"},ae={class:"text-danger bg-danger",style:{padding:"10px"}},re={class:"row"},ie={class:"col-xs-12"},ce={class:"form-group"},de=e("label",{for:"input"},"Table of contents (in Markdown)",-1),pe={key:2,class:"row"},ue={class:"col-xs-12"},he={class:"form-group clearfix",style:{"margin-top":"40px"}},me=e("span",{class:"glyphicon glyphicon-refresh"},null,-1),be={class:"btn-group pull-right"},fe=e("span",{class:"glyphicon glyphicon-copy"},null,-1),_e={style:{"max-width":"600px",margin:"0 auto",padding:"24px 0","background-color":"#fff",border:"1px dotted #d0d0d0"}},ge={id:"rendered"},ye=e("table",{bgcolor:"#FFFFFF",cellpadding:"0",cellspacing:"0",style:{border:"none","border-bottom":"none","border-collapse":"collapse","border-left":"none","border-right":"none","border-top":"none","mso-table-lspace":"0pt","mso-table-rspace":"0pt"},width:"100%"},[e("tbody",null,[e("tr",null,[e("td",{align:"left",style:{padding:"0 36px 0 36px"}},[e("table",{bgcolor:"#FFFFFF",cellpadding:"0",cellspacing:"0",style:{border:"none","border-bottom":"none","border-collapse":"collapse","border-left":"none","border-right":"none","border-top":"none","mso-table-lspace":"0pt","mso-table-rspace":"0pt"},width:"100%"},[e("tbody",null,[e("tr",null,[e("td",{align:"left",style:{padding:"24px 0px 24px 0px"}},[e("table",{border:"0",cellpadding:"0",cellspacing:"0",style:{border:"none","border-collapse":"collapse","mso-table-lspace":"0pt","mso-table-rspace":"0pt"},width:"100%"},[e("tbody",null,[e("tr",null,[e("td",null,[e("table",{cellpadding:"0",cellspacing:"0",style:{border:"none","border-collapse":"collapse","mso-table-lspace":"0pt","mso-table-rspace":"0pt"},width:"100%"},[e("tbody",null,[e("tr",null,[e("td",{height:"1",style:{"border-bottom":"8px solid #eeeeee","line-height":"1px"},width:"1"})]),e("tr",null,[e("td",{height:"1",style:{"line-height":"1px"},width:"1"})])])])])])])])])])])])])])])],-1),ve={border:"0",cellpadding:"0",cellspacing:"0",role:"presentation",style:{"vertical-align":"top"},width:"100%"},xe={class:"pardot-region","pardot-region":"",style:{"font-size":"0px",padding:"0 36px 0 36px","word-break":"break-word"}},we=["innerHTML"];function Te(r,t,c,o,s,d){const i=w("loadingSpinner"),l=w("Workspace");return p(),u(j,null,[h(x(i,null,null,512),[[v,o.isLoading]]),x(l,null,W({form:g(()=>[e("div",Q,[e("div",X,[e("h1",Y,[b("Table of contents"),e("span",Z,"A little experimental "+T(o.reaction),1)])])]),o.haveToc?f("",!0):(p(),u("div",$,[e("div",ee,[e("div",oe,[te,h(e("input",{class:"form-control",id:"urlToFetch","onUpdate:modelValue":t[0]||(t[0]=n=>o.urlToFetch=n)},null,512),[[k,o.urlToFetch]])]),e("div",ne,[e("button",{class:"btn btn-sm btn-default pull-right",onClick:t[1]||(t[1]=(...n)=>o.handleSubmit&&o.handleSubmit(...n))},"Generate TOC")])])])),o.error!=""?(p(),u("div",se,[e("div",le,[e("p",ae,T(o.error),1)])])):f("",!0),h(e("div",re,[e("div",ie,[e("div",ce,[de,h(e("textarea",{class:"form-control",id:"input","onUpdate:modelValue":t[2]||(t[2]=n=>o.input=n)},null,512),[[k,o.input]])])])],512),[[v,o.haveToc]]),o.haveToc?(p(),u("div",pe,[e("div",ue,[e("div",he,[e("button",{class:"btn btn-default",id:"refresh",onClick:t[3]||(t[3]=(...n)=>o.reset&&o.reset(...n))},[me,b("Â Reset")]),e("div",be,[e("button",{class:"btn btn-primary",id:"copyHtml",onClick:t[4]||(t[4]=(...n)=>o.copy&&o.copy(...n)),"aria-label":"Copied HTML!"},[fe,b("Â Copy HTML")])])])])])):f("",!0)]),_:2},[o.haveToc?{name:"render-container",fn:g(()=>[e("div",_e,[e("div",ge,[ye,e("table",ve,[e("tbody",null,[e("tr",null,[e("td",xe,[e("div",{style:{"font-family":"Arial, Helvetica, sans-serif","font-size":"16px","font-weight":"normal","line-height":"24px","text-align":"left",color:"#2a2a2a"},innerHTML:o.output},null,8,we)])])])])])])]),key:"0"}:void 0]),1024)],64)}const ke={components:{Workspace:A,LoadingSpinner:K},setup(){const r=a(""),t=a(!1),c=a(!1),o=a(""),s=a(""),d=a("");let i=null;const l={testTube:"ðŸ§ª",safetyGlasses:"ðŸ¥½",happy:"ðŸ™‚",nervous:"ðŸ˜¬",sad:"ðŸ™"},n=a(l.safetyGlasses),S="### In this issue",{renderer:H}=R();console.log("hiya"),_.use({renderer:H}),_.setOptions({gfm:!0,headerIds:!1});const L=D(()=>_(s.value));function M(){F(()=>{const m=document.getElementById("input");i=U(s,m,"250px")})}async function B(){t.value=!0,d.value="",l.value=n.nervous;const m="https://andthatproveswhat.com/roundupper-api/toc";try{const O=await(await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:r.value})})).text();s.value=`${S}
${JSON.parse(O).data.join(`
`)}`,F(()=>{i.setValue(s.value),i.focus(),i.setCursor({line:0,ch:0})}),c.value=!0,n.value=l.happy}catch(y){console.error(y),n.value=l.sad,c.value=!1,d.value="Error fetching TOC"}finally{t.value=!1}}function N(){window.location.reload()}function V(){z()}return G(M),{urlToFetch:r,handleSubmit:B,isLoading:t,tocMarkdown:o,input:s,haveToc:c,output:L,reset:N,copy:V,error:d,reaction:n,reactions:l}}},Ne=C(ke,[["render",Te]]);export{Ne as default};
